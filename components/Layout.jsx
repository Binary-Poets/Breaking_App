import Head from 'next/head';
import Link from 'next/link';
import { useRouter } from "next/router";

import { CharacterContext } from '../context/CharacterContext';
import { useContext, useState } from 'react';

const Layout = (props) => {

  const router = useRouter();
  const characterContext = useContext(CharacterContext);
  const [searchString, setSearchString] = useState();


  //search onchange handler
  const searchOnChangeHandler = (e) => {
    
    characterContext.setRefreshTime(10000000);
    setSearchString(e.target.value);
    console.log(e.target.value);

  }


  //search onSubmit
  const searchSubmitHandler = e => {
    e.preventDefault();

    characterContext.searchCharacters(searchString);

  }

  return (
    <>
      <Head>
        {/* <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet" /> */}
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
        <title>welcome -- Breaking App</title>
      </Head>


      <div className="main-container">
        <header className="header">
          {/* <img src="img/logo-2.png" alt="Trillo Logo" class="logo"> */}
          <div className="logo-text">
            <svg onclick="sidebarTrigger()" className="logo-text--icon" viewBox="0 0 24 24" width={24} height={24} stroke="currentColor" strokeWidth={2} fill="none" strokeLinecap="round" strokeLinejoin="round">
              <line x1={3} y1={12} x2={21} y2={12} />
              <line x1={3} y1={6} x2={21} y2={6} />
              <line x1={3} y1={18} x2={21} y2={18} />
            </svg>
            <Link href="/">
              <a style={{ display: "flex", textDecoration: 'none' }}>
                <span className="logo-text--1">Breaking</span>
                <span className="logo-text--2">_App</span>
              </a>
            </Link>
          </div>

          <form onSubmit={searchSubmitHandler} className="search">
            <input onChange={searchOnChangeHandler} className="search__input" type="text" name="searchString" id placeholder="Search your favorite character here..." />
            <button type="submit" className="search__button">
              {/* <svg className="search__icon">
                  <use xlinkHref="img/sprite.svg#icon-magnifying-glass" />
                </svg> */}
            </button>
          </form>

          <nav className="user-nav">
            <div className="user-nav__icon-box">
              <svg className="user-nav__icon" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bell-on" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">
                <path fill="currentColor" d="M112,192a24,24,0,0,0-24-24H24a24,24,0,0,0,0,48H88A24,24,0,0,0,112,192ZM51.66,64.78l55.42,32a24,24,0,1,0,24-41.56l-55.42-32a24,24,0,1,0-24,41.56ZM520.94,100a23.8,23.8,0,0,0,12-3.22l55.42-32a24,24,0,0,0-24-41.56l-55.42,32a24,24,0,0,0,12,44.78ZM320,512a64,64,0,0,0,64-64H256A64,64,0,0,0,320,512ZM616,168H552a24,24,0,0,0,0,48h64a24,24,0,0,0,0-48ZM479.92,208c0-77.69-54.48-139.91-127.94-155.16V32a32,32,0,1,0-64,0V52.84C214.56,68.09,160.08,130.31,160.08,208c0,102.31-36.14,133.53-55.47,154.28A31.28,31.28,0,0,0,96,384c.11,16.41,13,32,32.09,32H511.91c19.11,0,32-15.59,32.09-32a31.23,31.23,0,0,0-8.61-21.72C516.06,341.53,479.92,310.31,479.92,208Z" className />
              </svg>
              <span className="env-1">I Am a <span className="env-2">{process.env.dummyENV}</span> </span>
            </div>

          </nav>
        </header>
        <div className="content">
          <nav id="sidebar" className="sidebar">
            <ul className="side-nav">

              <li className={router.pathname == "/" ? "active" : ""}> <Link href="/"><a id="bhai" onClick="{(e) => shamimBhai(this)}" className="side-nav__li--item"> <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30"><g><circle cx="316.093" cy="105" r="7.5" /><path d="m383.593 203.416v-23.416c0-4.142-3.358-7.5-7.5-7.5h-22.5v-52.986c29.555-3.705 52.5-28.972 52.5-59.514 0-33.084-26.916-60-60-60-24.442 0-46.55 15.167-55.622 37.5h-64.378c-1.989 0-3.897.79-5.303 2.197l-127.103 127.102c-24.082 24.082-37.344 56.1-37.344 90.156v97.545c0 12.407 10.093 22.5 22.5 22.5s22.5-10.093 22.5-22.5v-97.544c0-22.037 8.582-42.754 24.164-58.336l25.742-25.742c9.916-9.916 23.1-15.377 37.123-15.377h30.221v15h-22.5c-4.142 0-7.5 3.358-7.5 7.5v23.157c-45.438 31.825-72.437 83.516-72.437 139.093 0 93.601 76.149 169.75 169.75 169.75s169.75-76.149 169.75-169.75c.001-55.397-26.859-106.992-72.063-138.835zm-37.5-188.416c24.813 0 45 20.187 45 45 0 22.257-16.246 40.78-37.5 44.363v-23.261c8.418-3.032 14.536-10.74 14.974-20.023.293-6.217-1.907-12.115-6.193-16.608-4.226-4.43-10.16-6.97-16.281-6.97h-38.96c7.928-13.621 22.76-22.501 38.96-22.501zm-231.193 173.013c-18.416 18.415-28.557 42.899-28.557 68.943v97.544c0 4.135-3.365 7.5-7.5 7.5-4.136 0-7.5-3.364-7.5-7.5v-97.544c0-30.05 11.702-58.301 32.95-79.55l124.907-124.906h116.894c2.07 0 3.998.825 5.428 2.324 1.428 1.497 2.161 3.468 2.063 5.548-.185 3.93-3.736 7.127-7.915 7.127h-107.15c-1.989 0-3.897.79-5.303 2.197zm66.348-45.135 60.378-60.378h96.967v60h-150.22c-2.397 0-4.773.133-7.125.378zm104.659 354.122c-85.33 0-154.75-69.42-154.75-154.75 0-51.896 25.83-100.079 69.094-128.892 2.088-1.391 3.343-3.733 3.343-6.242v-19.616h22.5c4.142 0 7.5-3.358 7.5-7.5v-22.5h105v15h-82.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h112.5v19.861c0 2.501 1.247 4.838 3.326 6.231 43.042 28.834 68.738 76.931 68.738 128.658-.001 85.33-69.422 154.75-154.751 154.75z" /></g></svg> Home</a></Link> </li>
              <li className={router.query.characterID == "1" ? "active" : ""}> <Link href="/character/[characterID]" as={`/character/${1}`} ><a className="side-nav__li--item"> <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30"><g><circle cx="316.093" cy="105" r="7.5" /><path d="m383.593 203.416v-23.416c0-4.142-3.358-7.5-7.5-7.5h-22.5v-52.986c29.555-3.705 52.5-28.972 52.5-59.514 0-33.084-26.916-60-60-60-24.442 0-46.55 15.167-55.622 37.5h-64.378c-1.989 0-3.897.79-5.303 2.197l-127.103 127.102c-24.082 24.082-37.344 56.1-37.344 90.156v97.545c0 12.407 10.093 22.5 22.5 22.5s22.5-10.093 22.5-22.5v-97.544c0-22.037 8.582-42.754 24.164-58.336l25.742-25.742c9.916-9.916 23.1-15.377 37.123-15.377h30.221v15h-22.5c-4.142 0-7.5 3.358-7.5 7.5v23.157c-45.438 31.825-72.437 83.516-72.437 139.093 0 93.601 76.149 169.75 169.75 169.75s169.75-76.149 169.75-169.75c.001-55.397-26.859-106.992-72.063-138.835zm-37.5-188.416c24.813 0 45 20.187 45 45 0 22.257-16.246 40.78-37.5 44.363v-23.261c8.418-3.032 14.536-10.74 14.974-20.023.293-6.217-1.907-12.115-6.193-16.608-4.226-4.43-10.16-6.97-16.281-6.97h-38.96c7.928-13.621 22.76-22.501 38.96-22.501zm-231.193 173.013c-18.416 18.415-28.557 42.899-28.557 68.943v97.544c0 4.135-3.365 7.5-7.5 7.5-4.136 0-7.5-3.364-7.5-7.5v-97.544c0-30.05 11.702-58.301 32.95-79.55l124.907-124.906h116.894c2.07 0 3.998.825 5.428 2.324 1.428 1.497 2.161 3.468 2.063 5.548-.185 3.93-3.736 7.127-7.915 7.127h-107.15c-1.989 0-3.897.79-5.303 2.197zm66.348-45.135 60.378-60.378h96.967v60h-150.22c-2.397 0-4.773.133-7.125.378zm104.659 354.122c-85.33 0-154.75-69.42-154.75-154.75 0-51.896 25.83-100.079 69.094-128.892 2.088-1.391 3.343-3.733 3.343-6.242v-19.616h22.5c4.142 0 7.5-3.358 7.5-7.5v-22.5h105v15h-82.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h112.5v19.861c0 2.501 1.247 4.838 3.326 6.231 43.042 28.834 68.738 76.931 68.738 128.658-.001 85.33-69.422 154.75-154.751 154.75z" /></g></svg> Walter White</a></Link> </li>
              <li className={router.query.characterID == "2" ? "active" : ""}> <Link href="/character/[characterID]" as={`/character/${2}`} ><a className="side-nav__li--item"> <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30"><g><circle cx="316.093" cy="105" r="7.5" /><path d="m383.593 203.416v-23.416c0-4.142-3.358-7.5-7.5-7.5h-22.5v-52.986c29.555-3.705 52.5-28.972 52.5-59.514 0-33.084-26.916-60-60-60-24.442 0-46.55 15.167-55.622 37.5h-64.378c-1.989 0-3.897.79-5.303 2.197l-127.103 127.102c-24.082 24.082-37.344 56.1-37.344 90.156v97.545c0 12.407 10.093 22.5 22.5 22.5s22.5-10.093 22.5-22.5v-97.544c0-22.037 8.582-42.754 24.164-58.336l25.742-25.742c9.916-9.916 23.1-15.377 37.123-15.377h30.221v15h-22.5c-4.142 0-7.5 3.358-7.5 7.5v23.157c-45.438 31.825-72.437 83.516-72.437 139.093 0 93.601 76.149 169.75 169.75 169.75s169.75-76.149 169.75-169.75c.001-55.397-26.859-106.992-72.063-138.835zm-37.5-188.416c24.813 0 45 20.187 45 45 0 22.257-16.246 40.78-37.5 44.363v-23.261c8.418-3.032 14.536-10.74 14.974-20.023.293-6.217-1.907-12.115-6.193-16.608-4.226-4.43-10.16-6.97-16.281-6.97h-38.96c7.928-13.621 22.76-22.501 38.96-22.501zm-231.193 173.013c-18.416 18.415-28.557 42.899-28.557 68.943v97.544c0 4.135-3.365 7.5-7.5 7.5-4.136 0-7.5-3.364-7.5-7.5v-97.544c0-30.05 11.702-58.301 32.95-79.55l124.907-124.906h116.894c2.07 0 3.998.825 5.428 2.324 1.428 1.497 2.161 3.468 2.063 5.548-.185 3.93-3.736 7.127-7.915 7.127h-107.15c-1.989 0-3.897.79-5.303 2.197zm66.348-45.135 60.378-60.378h96.967v60h-150.22c-2.397 0-4.773.133-7.125.378zm104.659 354.122c-85.33 0-154.75-69.42-154.75-154.75 0-51.896 25.83-100.079 69.094-128.892 2.088-1.391 3.343-3.733 3.343-6.242v-19.616h22.5c4.142 0 7.5-3.358 7.5-7.5v-22.5h105v15h-82.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h112.5v19.861c0 2.501 1.247 4.838 3.326 6.231 43.042 28.834 68.738 76.931 68.738 128.658-.001 85.33-69.422 154.75-154.751 154.75z" /></g></svg> Jesse Pinkman</a></Link> </li>
              <li className={router.query.characterID == "8" ? "active" : ""}> <Link href="/character/[characterID]" as={`/character/${8}`} ><a className="side-nav__li--item"> <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30"><g><circle cx="316.093" cy="105" r="7.5" /><path d="m383.593 203.416v-23.416c0-4.142-3.358-7.5-7.5-7.5h-22.5v-52.986c29.555-3.705 52.5-28.972 52.5-59.514 0-33.084-26.916-60-60-60-24.442 0-46.55 15.167-55.622 37.5h-64.378c-1.989 0-3.897.79-5.303 2.197l-127.103 127.102c-24.082 24.082-37.344 56.1-37.344 90.156v97.545c0 12.407 10.093 22.5 22.5 22.5s22.5-10.093 22.5-22.5v-97.544c0-22.037 8.582-42.754 24.164-58.336l25.742-25.742c9.916-9.916 23.1-15.377 37.123-15.377h30.221v15h-22.5c-4.142 0-7.5 3.358-7.5 7.5v23.157c-45.438 31.825-72.437 83.516-72.437 139.093 0 93.601 76.149 169.75 169.75 169.75s169.75-76.149 169.75-169.75c.001-55.397-26.859-106.992-72.063-138.835zm-37.5-188.416c24.813 0 45 20.187 45 45 0 22.257-16.246 40.78-37.5 44.363v-23.261c8.418-3.032 14.536-10.74 14.974-20.023.293-6.217-1.907-12.115-6.193-16.608-4.226-4.43-10.16-6.97-16.281-6.97h-38.96c7.928-13.621 22.76-22.501 38.96-22.501zm-231.193 173.013c-18.416 18.415-28.557 42.899-28.557 68.943v97.544c0 4.135-3.365 7.5-7.5 7.5-4.136 0-7.5-3.364-7.5-7.5v-97.544c0-30.05 11.702-58.301 32.95-79.55l124.907-124.906h116.894c2.07 0 3.998.825 5.428 2.324 1.428 1.497 2.161 3.468 2.063 5.548-.185 3.93-3.736 7.127-7.915 7.127h-107.15c-1.989 0-3.897.79-5.303 2.197zm66.348-45.135 60.378-60.378h96.967v60h-150.22c-2.397 0-4.773.133-7.125.378zm104.659 354.122c-85.33 0-154.75-69.42-154.75-154.75 0-51.896 25.83-100.079 69.094-128.892 2.088-1.391 3.343-3.733 3.343-6.242v-19.616h22.5c4.142 0 7.5-3.358 7.5-7.5v-22.5h105v15h-82.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h112.5v19.861c0 2.501 1.247 4.838 3.326 6.231 43.042 28.834 68.738 76.931 68.738 128.658-.001 85.33-69.422 154.75-154.751 154.75z" /></g></svg> Saul Goodman</a></Link> </li>
              <li className={router.query.characterID == "19" ? "active" : ""}> <Link href="/character/[characterID]" as={`/character/${19}`}><a className="side-nav__li--item"> <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="30" viewBox="0 0 512 512" width="30"><g><circle cx="316.093" cy="105" r="7.5" /><path d="m383.593 203.416v-23.416c0-4.142-3.358-7.5-7.5-7.5h-22.5v-52.986c29.555-3.705 52.5-28.972 52.5-59.514 0-33.084-26.916-60-60-60-24.442 0-46.55 15.167-55.622 37.5h-64.378c-1.989 0-3.897.79-5.303 2.197l-127.103 127.102c-24.082 24.082-37.344 56.1-37.344 90.156v97.545c0 12.407 10.093 22.5 22.5 22.5s22.5-10.093 22.5-22.5v-97.544c0-22.037 8.582-42.754 24.164-58.336l25.742-25.742c9.916-9.916 23.1-15.377 37.123-15.377h30.221v15h-22.5c-4.142 0-7.5 3.358-7.5 7.5v23.157c-45.438 31.825-72.437 83.516-72.437 139.093 0 93.601 76.149 169.75 169.75 169.75s169.75-76.149 169.75-169.75c.001-55.397-26.859-106.992-72.063-138.835zm-37.5-188.416c24.813 0 45 20.187 45 45 0 22.257-16.246 40.78-37.5 44.363v-23.261c8.418-3.032 14.536-10.74 14.974-20.023.293-6.217-1.907-12.115-6.193-16.608-4.226-4.43-10.16-6.97-16.281-6.97h-38.96c7.928-13.621 22.76-22.501 38.96-22.501zm-231.193 173.013c-18.416 18.415-28.557 42.899-28.557 68.943v97.544c0 4.135-3.365 7.5-7.5 7.5-4.136 0-7.5-3.364-7.5-7.5v-97.544c0-30.05 11.702-58.301 32.95-79.55l124.907-124.906h116.894c2.07 0 3.998.825 5.428 2.324 1.428 1.497 2.161 3.468 2.063 5.548-.185 3.93-3.736 7.127-7.915 7.127h-107.15c-1.989 0-3.897.79-5.303 2.197zm66.348-45.135 60.378-60.378h96.967v60h-150.22c-2.397 0-4.773.133-7.125.378zm104.659 354.122c-85.33 0-154.75-69.42-154.75-154.75 0-51.896 25.83-100.079 69.094-128.892 2.088-1.391 3.343-3.733 3.343-6.242v-19.616h22.5c4.142 0 7.5-3.358 7.5-7.5v-22.5h105v15h-82.5c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h112.5v19.861c0 2.501 1.247 4.838 3.326 6.231 43.042 28.834 68.738 76.931 68.738 128.658-.001 85.33-69.422 154.75-154.751 154.75z" /></g></svg> Huell Babineaux</a></Link> </li>

            </ul>
            <div style={{ fontSize: '1.2rem' }} className="copyright">
              Feel free to use! &lt;3 <br />
              <span className="contact"> <a className="github-link" href="https://github.com/shamimferdous"><svg className="github" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" /></svg>/shamimferdous</a> </span>
            </div>
          </nav>

          <main id="hotel-view" className="hotel-view">
            {props.children}
          </main>
        </div>
      </div>
    </>
  )
}

export default Layout;